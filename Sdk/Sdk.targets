<Project TreatAsLocalProperty="ElskomSdkTasksAssembly" InitialTargets="AddElskomKnownFrameworkReference">

  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" Condition="'$(ElskomSdkMicrosoftNETSdkImported)' == 'true'" />

  <PropertyGroup>
    <ElskomSdkTasksAssembly>$(MSBuildThisFileDirectory)/../tasks/netstandard2.0/Elskom.Sdk.Tasks.dll</ElskomSdkTasksAssembly>
  </PropertyGroup>

  <UsingTask
             TaskName="Elskom.Sdk.Tasks.AddElskomSdkKnownFrameworkReference"
             AssemblyFile="$(ElskomSdkTasksAssembly)" />
  <UsingTask
             TaskName="Elskom.Sdk.Tasks.AddElskomSdkFrameworkReference"
             AssemblyFile="$(ElskomSdkTasksAssembly)" />

  <Target Name="AddElskomKnownFrameworkReference">
    <!-- The libraries within the runtime pack are within the Elskom/runtime repository. -->
    <AddElskomSdkKnownFrameworkReference>
      <Output TaskParameter="KnownFrameworkReferences" ItemName="KnownFrameworkReference" />
    </AddElskomSdkKnownFrameworkReference>
  </Target>

  <Target Name="ResolveElskomSharedFramework" AfterTargets="BeforeBuild">
    <AddElskomSdkFrameworkReference
      DisableImplicitReference="$(ElskomSdkDisableImplicitFrameworkReference)">
      <Output TaskParameter="FrameworkReferences" ItemName="FrameworkReference" />
    </AddElskomSdkFrameworkReference>
  </Target>

</Project>
